; Generated from lib/libu/lseek.o by wsnm -g
	.extern c.lmod
	.extern c.r1
	.extern c.r0
	.extern c.ret
	.extern c.ent
	.extern c.lcpy
	.extern _seek
	.extern c.ldiv
	.global _lseek

	.text
_.text:
_lseek:
	call c.ent
	ld hl,000ah
	add hl,de
	ld a,(hl)
	sub 003h
	inc hl
	ld a,(hl)
	sbc a,000h
	jp p,_lseek+182
	ld hl,0006h
	add hl,de
	push hl
	pop hl
	ld bc,c.r0
	call c.lcpy
	ld hl,c.r0
	push hl
	sub a
	ld (c.r1),a
	ld (c.r1+1),a
	ld (c.r1+2),a
	ld a,002h
	ld (c.r1+3),a
	ld hl,c.r1
	push hl
	call c.ldiv
	pop hl
	inc hl
	inc hl
	ld a,(hl)
	ld (_.data+0),a
	inc hl
	ld a,(hl)
	ld (_.data+1),a
	ld hl,0006h
	add hl,de
	push hl
	pop hl
	ld bc,c.r0
	call c.lcpy
	ld hl,c.r0
	push hl
	sub a
	ld (c.r1),a
	ld (c.r1+1),a
	ld (c.r1+2),a
	ld a,002h
	ld (c.r1+3),a
	ld hl,c.r1
	push hl
	call c.lmod
	pop hl
	inc hl
	inc hl
	ld a,(hl)
	ld (_.data+2),a
	inc hl
	ld a,(hl)
	ld (_.data+3),a
	ld hl,000ah
	add hl,de
	ld a,(hl)
	inc hl
	ld h,(hl)
	ld l,a
	inc hl
	inc hl
	inc hl
	push hl
	ld hl,(_.data+0)
	push hl
	ld hl,0004h
	add hl,de
	ld c,(hl)
	inc hl
	ld b,(hl)
	push bc
	call _seek
	pop af
	pop af
	pop af
	ld a,b
	or a
	jp m,_lseek+225
	ld hl,0001h
	push hl
	ld hl,(_.data+2)
	push hl
	ld hl,0004h
	add hl,de
	ld c,(hl)
	inc hl
	ld b,(hl)
	push bc
	call _seek
	pop af
	pop af
	pop af
	ld a,b
	or a
	jp p,_lseek+231
	jp _lseek+225
	ld hl,000ah
	add hl,de
	ld c,(hl)
	inc hl
	ld b,(hl)
	push bc
	ld hl,0006h
	add hl,de
	inc hl
	inc hl
	ld c,(hl)
	inc hl
	ld b,(hl)
	push bc
	ld hl,0004h
	add hl,de
	ld c,(hl)
	inc hl
	ld b,(hl)
	push bc
	call _seek
	pop af
	pop af
	pop af
	ld a,b
	or a
	jp p,_lseek+231
	ld bc,0ffffh
	jp c.ret
	ld bc,0ffffh
	jp c.ret
	ld hl,0004h
	add hl,de
	ld a,(hl)
	inc hl
	ld h,(hl)
	ld l,a
	ld c,l
	ld b,h
	jp c.ret

	.data
_.data:
	.db 000h
	.db 000h
	.db 000h
	.db 000h
;
; vim: tabstop=4 shiftwidth=4 noexpandtab:
;
