; Generated from lib/libu/create.o by wsnm -g
	.extern _close
	.extern _creat
	.extern c.ret
	.extern c.ent
	.extern _open
	.global _create

	.text
_.text:
_create:
	call c.ent
	push af
	push af
	push af
	push af
	ld hl,0fff8h
	add hl,de
	push hl
	ld hl,01ffh
	push hl
	ld hl,0004h
	add hl,de
	ld c,(hl)
	inc hl
	ld b,(hl)
	push bc
	call _creat
	pop af
	pop af
	pop hl
	ld a,c
	ld (hl),a
	ld a,b
	inc hl
	ld (hl),a
	ld hl,0fff8h
	add hl,de
	inc hl
	ld a,(hl)
	or a
	jp p,_create+58
	ld hl,0fff8h
	add hl,de
	ld a,(hl)
	inc hl
	ld h,(hl)
	ld l,a
	ld c,l
	ld b,h
	jp c.ret
	ld hl,0006h
	add hl,de
	ld a,(hl)
	inc hl
	or (hl)
	jp nz,_create+111
	ld hl,0fff8h
	add hl,de
	ld c,(hl)
	inc hl
	ld b,(hl)
	push bc
	call _close
	pop af
	ld hl,0fff8h
	add hl,de
	push hl
	ld hl,0000h
	push hl
	ld hl,0004h
	add hl,de
	ld c,(hl)
	inc hl
	ld b,(hl)
	push bc
	call _open
	pop af
	pop af
	pop hl
	ld a,c
	ld (hl),a
	ld a,b
	inc hl
	ld (hl),a
	jp _create+168
	ld hl,0006h
	add hl,de
	ld a,(hl)
	cp 002h
	jp nz,_create+125
	inc hl
	ld a,(hl)
	cp 000h
	jp nz,_create+168
	ld hl,0fff8h
	add hl,de
	ld c,(hl)
	inc hl
	ld b,(hl)
	push bc
	call _close
	pop af
	ld hl,0fff8h
	add hl,de
	push hl
	ld hl,0002h
	push hl
	ld hl,0004h
	add hl,de
	ld c,(hl)
	inc hl
	ld b,(hl)
	push bc
	call _open
	pop af
	pop af
	pop hl
	ld a,c
	ld (hl),a
	ld a,b
	inc hl
	ld (hl),a
	ld hl,0fff8h
	add hl,de
	ld a,(hl)
	inc hl
	ld h,(hl)
	ld l,a
	ld c,l
	ld b,h
	jp c.ret
;
; vim: tabstop=4 shiftwidth=4 noexpandtab:
;
