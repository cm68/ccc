=== lib/libS/fopen.o ===

Header:
  Magic:       0x99
  Config:      0x14 little-endian
  Symlen:      9 chars
  Symtab:      300 bytes (25 symbols)
  Text:        872 bytes
  Data:        17 bytes
  BSS:         0 bytes
  Heap:        0 bytes
  Text offset: 0x0000
  Data offset: 0x0368

Disassembly: 872 bytes
_fopen:
  0000  cd 00 00     call _fopen
  0003  21 04 00     ld hl,0004h
  0006  19           add hl,de
  0007  7e           ld a,(hl)
  0008  23           inc hl
  0009  66           ld h,(hl)
  000a  6f           ld l,a
  000b  22 00 00     ld (_fopen),hl
  000e  21 06 00     ld hl,0006h
  0011  19           add hl,de
  0012  7e           ld a,(hl)
  0013  23           inc hl
  0014  66           ld h,(hl)
  0015  6f           ld l,a
  0016  22 00 00     ld (_fopen),hl
  0019  cd 1c 01     call __bfind
  001c  69           ld l,c
  001d  60           ld h,b
  001e  22 6a 03     ld (036ah),hl
  0021  21 6a 03     ld hl,036ah
  0024  7e           ld a,(hl)
  0025  23           inc hl
  0026  b6           or (hl)
  0027  c2 30 00     jp nz,0030h
  002a  01 00 00     ld bc,_fopen
  002d  c3 00 00     jp _fopen
  0030  2a 00 00     ld hl,(_fopen)
  0033  e5           push hl
  0034  2a 00 00     ld hl,(_fopen)
  0037  e5           push hl
  0038  cd 8e 01     call __facces
  003b  f1           pop af
  003c  f1           pop af
  003d  69           ld l,c
  003e  60           ld h,b
  003f  22 68 03     ld (0368h),hl
  0042  3a 68 03     ld a,(0368h)
  0045  fe ff        cp ffh
  0047  c2 4f 00     jp nz,004fh
  004a  3a 69 03     ld a,(0369h)
  004d  fe ff        cp ffh
  004f  c2 58 00     jp nz,0058h
  0052  01 00 00     ld bc,_fopen
  0055  c3 00 00     jp _fopen
  0058  2a 00 00     ld hl,(_fopen)
  005b  e5           push hl
  005c  2a 68 03     ld hl,(0368h)
  005f  e5           push hl
  0060  2a 6a 03     ld hl,(036ah)
  0063  e5           push hl
  0064  cd 57 02     call __finit
  0067  f1           pop af
  0068  f1           pop af
  0069  f1           pop af
  006a  2a 6a 03     ld hl,(036ah)
  006d  4d           ld c,l
  006e  44           ld b,h
  006f  c3 00 00     jp _fopen
_freopen:
  0072  cd 00 00     call _fopen
  0075  21 04 00     ld hl,0004h
  0078  19           add hl,de
  0079  7e           ld a,(hl)
  007a  23           inc hl
  007b  66           ld h,(hl)
  007c  6f           ld l,a
  007d  22 00 00     ld (_fopen),hl
  0080  21 06 00     ld hl,0006h
  0083  19           add hl,de
  0084  7e           ld a,(hl)
  0085  23           inc hl
  0086  66           ld h,(hl)
  0087  6f           ld l,a
  0088  22 00 00     ld (_fopen),hl
  008b  21 08 00     ld hl,0008h
  008e  19           add hl,de
  008f  7e           ld a,(hl)
  0090  23           inc hl
  0091  66           ld h,(hl)
  0092  6f           ld l,a
  0093  22 00 00     ld (_fopen),hl
  0096  2a 00 00     ld hl,(_fopen)
  0099  e5           push hl
  009a  2a 00 00     ld hl,(_fopen)
  009d  e5           push hl
  009e  cd 8e 01     call __facces
  00a1  f1           pop af
  00a2  f1           pop af
  00a3  69           ld l,c
  00a4  60           ld h,b
  00a5  22 6c 03     ld (036ch),hl
  00a8  3a 6c 03     ld a,(036ch)
  00ab  fe ff        cp ffh
  00ad  c2 b5 00     jp nz,00b5h
  00b0  3a 6d 03     ld a,(036dh)
  00b3  fe ff        cp ffh
  00b5  c2 be 00     jp nz,00beh
  00b8  01 00 00     ld bc,_fopen
  00bb  c3 00 00     jp _fopen
  00be  2a 00 00     ld hl,(_fopen)
  00c1  e5           push hl
  00c2  cd c9 02     call _fclose
  00c5  f1           pop af
  00c6  2a 00 00     ld hl,(_fopen)
  00c9  e5           push hl
  00ca  2a 6c 03     ld hl,(036ch)
  00cd  e5           push hl
  00ce  2a 00 00     ld hl,(_fopen)
  00d1  e5           push hl
  00d2  cd 57 02     call __finit
  00d5  f1           pop af
  00d6  f1           pop af
  00d7  f1           pop af
  00d8  2a 00 00     ld hl,(_fopen)
  00db  4d           ld c,l
  00dc  44           ld b,h
  00dd  c3 00 00     jp _fopen
_fdopen:
  00e0  cd 00 00     call _fopen
  00e3  cd 1c 01     call __bfind
  00e6  69           ld l,c
  00e7  60           ld h,b
  00e8  22 6e 03     ld (036eh),hl
  00eb  21 6e 03     ld hl,036eh
  00ee  7e           ld a,(hl)
  00ef  23           inc hl
  00f0  b6           or (hl)
  00f1  c2 fa 00     jp nz,00fah
  00f4  01 00 00     ld bc,_fopen
  00f7  c3 00 00     jp _fopen
  00fa  21 06 00     ld hl,0006h
  00fd  19           add hl,de
  00fe  4e           ld c,(hl)
  00ff  23           inc hl
  0100  46           ld b,(hl)
  0101  c5           push bc
  0102  21 04 00     ld hl,0004h
  0105  19           add hl,de
  0106  4e           ld c,(hl)
  0107  23           inc hl
  0108  46           ld b,(hl)
  0109  c5           push bc
  010a  2a 6e 03     ld hl,(036eh)
  010d  e5           push hl
  010e  cd 57 02     call __finit
  0111  f1           pop af
  0112  f1           pop af
  0113  f1           pop af
  0114  2a 6e 03     ld hl,(036eh)
  0117  4d           ld c,l
  0118  44           ld b,h
  0119  c3 00 00     jp _fopen
__bfind:
  011c  cd 00 00     call _fopen
  011f  97           sub a
  0120  32 71 03     ld (0371h),a
  0123  32 72 03     ld (0372h),a
  0126  3e 00        ld a,00h
  0128  32 70 03     ld (0370h),a
  012b  3a 70 03     ld a,(0370h)
  012e  fe 10        cp 10h
  0130  f2 6b 01     jp p,016bh
  0133  3a 70 03     ld a,(0370h)
  0136  4f           ld c,a
  0137  87           add a,a
  0138  9f           sbc a,a
  0139  47           ld b,a
  013a  c5           push bc
  013b  21 10 00     ld hl,0010h
  013e  e5           push hl
  013f  cd 00 00     call _fopen
  0142  e1           pop hl
  0143  01 06 00     ld bc,0006h
  0146  09           add hl,bc
  0147  7e           ld a,(hl)
  0148  23           inc hl
  0149  66           ld h,(hl)
  014a  6f           ld l,a
  014b  7d           ld a,l
  014c  e6 03        and 03h
  014e  c2 73 01     jp nz,0173h
  0151  3a 70 03     ld a,(0370h)
  0154  4f           ld c,a
  0155  87           add a,a
  0156  9f           sbc a,a
  0157  47           ld b,a
  0158  c5           push bc
  0159  21 10 00     ld hl,0010h
  015c  e5           push hl
  015d  cd 00 00     call _fopen
  0160  e1           pop hl
  0161  01 00 00     ld bc,_fopen
  0164  09           add hl,bc
  0165  22 71 03     ld (0371h),hl
  0168  c3 73 01     jp 0173h
  016b  2a 71 03     ld hl,(0371h)
  016e  4d           ld c,l
  016f  44           ld b,h
  0170  c3 00 00     jp _fopen
  0173  3a 70 03     ld a,(0370h)
  0176  c6 01        add a,01h
  0178  32 70 03     ld (0370h),a
  017b  c3 2b 01     jp 012bh
  017e  34           inc (hl)
  017f  02           ld (bc),a
  0180  72           ld (hl),d
  0181  00           nop
  0182  d4 01 61     call nc,6101h
  0185  00           nop
  0186  b5           or l
  0187  01 77 00     ld bc,0077h
  018a  00           nop
  018b  00           nop
  018c  4e           ld c,(hl)
  018d  02           ld (bc),a
__facces:
  018e  cd 00 00     call _fopen
  0191  21 04 00     ld hl,0004h
  0194  19           add hl,de
  0195  7e           ld a,(hl)
  0196  23           inc hl
  0197  66           ld h,(hl)
  0198  6f           ld l,a
  0199  22 00 00     ld (_fopen),hl
  019c  21 06 00     ld hl,0006h
  019f  19           add hl,de
  01a0  7e           ld a,(hl)
  01a1  23           inc hl
  01a2  66           ld h,(hl)
  01a3  6f           ld l,a
  01a4  22 00 00     ld (_fopen),hl
  01a7  2a 00 00     ld hl,(_fopen)
  01aa  7e           ld a,(hl)
  01ab  4f           ld c,a
  01ac  87           add a,a
  01ad  9f           sbc a,a
  01ae  47           ld b,a
  01af  21 7e 01     ld hl,017eh
  01b2  c3 00 00     jp _fopen
  01b5  21 00 00     ld hl,_fopen
  01b8  e5           push hl
  01b9  21 01 00     ld hl,0001h
  01bc  e5           push hl
  01bd  2a 00 00     ld hl,(_fopen)
  01c0  e5           push hl
  01c1  cd 00 00     call _fopen
  01c4  f1           pop af
  01c5  f1           pop af
  01c6  f1           pop af
  01c7  69           ld l,c
  01c8  60           ld h,b
  01c9  22 73 03     ld (0373h),hl
  01cc  2a 73 03     ld hl,(0373h)
  01cf  4d           ld c,l
  01d0  44           ld b,h
  01d1  c3 00 00     jp _fopen
  01d4  21 00 00     ld hl,_fopen
  01d7  e5           push hl
  01d8  21 01 00     ld hl,0001h
  01db  e5           push hl
  01dc  2a 00 00     ld hl,(_fopen)
  01df  e5           push hl
  01e0  cd 00 00     call _fopen
  01e3  f1           pop af
  01e4  f1           pop af
  01e5  f1           pop af
  01e6  69           ld l,c
  01e7  60           ld h,b
  01e8  22 73 03     ld (0373h),hl
  01eb  3a 73 03     ld a,(0373h)
  01ee  fe ff        cp ffh
  01f0  c2 f8 01     jp nz,01f8h
  01f3  3a 74 03     ld a,(0374h)
  01f6  fe ff        cp ffh
  01f8  c2 12 02     jp nz,0212h
  01fb  21 00 00     ld hl,_fopen
  01fe  e5           push hl
  01ff  21 01 00     ld hl,0001h
  0202  e5           push hl
  0203  2a 00 00     ld hl,(_fopen)
  0206  e5           push hl
  0207  cd 00 00     call _fopen
  020a  f1           pop af
  020b  f1           pop af
  020c  f1           pop af
  020d  69           ld l,c
  020e  60           ld h,b
  020f  22 73 03     ld (0373h),hl
  0212  21 02 00     ld hl,0002h
  0215  e5           push hl
  0216  21 75 03     ld hl,0375h
  0219  23           inc hl
  021a  23           inc hl
  021b  4e           ld c,(hl)
  021c  23           inc hl
  021d  46           ld b,(hl)
  021e  c5           push bc
  021f  2b           dec hl
  0220  2b           dec hl
  0221  2b           dec hl
  0222  4e           ld c,(hl)
  0223  23           inc hl
  0224  46           ld b,(hl)
  0225  c5           push bc
  0226  2a 73 03     ld hl,(0373h)
  0229  e5           push hl
  022a  cd 00 00     call _fopen
  022d  f1           pop af
  022e  f1           pop af
  022f  f1           pop af
  0230  f1           pop af
  0231  c3 cc 01     jp 01cch
  0234  21 00 00     ld hl,_fopen
  0237  e5           push hl
  0238  21 00 00     ld hl,_fopen
  023b  e5           push hl
  023c  2a 00 00     ld hl,(_fopen)
  023f  e5           push hl
  0240  cd 00 00     call _fopen
  0243  f1           pop af
  0244  f1           pop af
  0245  f1           pop af
  0246  69           ld l,c
  0247  60           ld h,b
  0248  22 73 03     ld (0373h),hl
  024b  c3 cc 01     jp 01cch
  024e  21 ff ff     ld hl,ffffh
  0251  22 73 03     ld (0373h),hl
  0254  c3 cc 01     jp 01cch
__finit:
  0257  cd 00 00     call _fopen
  025a  21 f0 ff     ld hl,fff0h
  025d  39           add hl,sp
  025e  f9           ld sp,hl
  025f  21 04 00     ld hl,0004h
  0262  19           add hl,de
  0263  7e           ld a,(hl)
  0264  23           inc hl
  0265  66           ld h,(hl)
  0266  6f           ld l,a
  0267  22 00 00     ld (_fopen),hl
  026a  21 06 00     ld hl,0006h
  026d  19           add hl,de
  026e  7e           ld a,(hl)
  026f  23           inc hl
  0270  66           ld h,(hl)
  0271  6f           ld l,a
  0272  22 00 00     ld (_fopen),hl
  0275  21 08 00     ld hl,0008h
  0278  19           add hl,de
  0279  7e           ld a,(hl)
  027a  23           inc hl
  027b  66           ld h,(hl)
  027c  6f           ld l,a
  027d  22 00 00     ld (_fopen),hl
  0280  2a 00 00     ld hl,(_fopen)
  0283  01 08 00     ld bc,0008h
  0286  09           add hl,bc
  0287  3a 00 00     ld a,(_fopen)
  028a  77           ld (hl),a
  028b  3a 01 00     ld a,(0001h)
  028e  23           inc hl
  028f  77           ld (hl),a
  0290  2a 00 00     ld hl,(_fopen)
  0293  01 02 00     ld bc,0002h
  0296  09           add hl,bc
  0297  97           sub a
  0298  77           ld (hl),a
  0299  23           inc hl
  029a  77           ld (hl),a
  029b  2a 00 00     ld hl,(_fopen)
  029e  01 04 00     ld bc,0004h
  02a1  09           add hl,bc
  02a2  97           sub a
  02a3  77           ld (hl),a
  02a4  23           inc hl
  02a5  77           ld (hl),a
  02a6  2a 00 00     ld hl,(_fopen)
  02a9  01 06 00     ld bc,0006h
  02ac  09           add hl,bc
  02ad  e5           push hl
  02ae  2a 00 00     ld hl,(_fopen)
  02b1  7e           ld a,(hl)
  02b2  fe 72        cp 72h
  02b4  c2 bd 02     jp nz,02bdh
  02b7  01 01 00     ld bc,0001h
  02ba  c3 c0 02     jp 02c0h
  02bd  01 02 00     ld bc,0002h
  02c0  e1           pop hl
  02c1  79           ld a,c
  02c2  77           ld (hl),a
  02c3  78           ld a,b
  02c4  23           inc hl
  02c5  77           ld (hl),a
  02c6  c3 00 00     jp _fopen
_fclose:
  02c9  cd 00 00     call _fopen
  02cc  21 04 00     ld hl,0004h
  02cf  19           add hl,de
  02d0  7e           ld a,(hl)
  02d1  23           inc hl
  02d2  66           ld h,(hl)
  02d3  6f           ld l,a
  02d4  22 00 00     ld (_fopen),hl
  02d7  2a 00 00     ld hl,(_fopen)
  02da  e5           push hl
  02db  21 ff ff     ld hl,ffffh
  02de  e5           push hl
  02df  cd 00 00     call _fopen
  02e2  f1           pop af
  02e3  f1           pop af
  02e4  2a 00 00     ld hl,(_fopen)
  02e7  01 08 00     ld bc,0008h
  02ea  09           add hl,bc
  02eb  4e           ld c,(hl)
  02ec  23           inc hl
  02ed  46           ld b,(hl)
  02ee  c5           push bc
  02ef  cd 00 00     call _fopen
  02f2  f1           pop af
  02f3  2a 00 00     ld hl,(_fopen)
  02f6  01 06 00     ld bc,0006h
  02f9  09           add hl,bc
  02fa  7e           ld a,(hl)
  02fb  e6 fc        and fch
  02fd  77           ld (hl),a
  02fe  23           inc hl
  02ff  7e           ld a,(hl)
  0300  e6 ff        and ffh
  0302  77           ld (hl),a
  0303  2a 00 00     ld hl,(_fopen)
  0306  01 06 00     ld bc,0006h
  0309  09           add hl,bc
  030a  7e           ld a,(hl)
  030b  23           inc hl
  030c  66           ld h,(hl)
  030d  6f           ld l,a
  030e  7d           ld a,l
  030f  e6 08        and 08h
  0311  ca 47 03     jp z,0347h
  0314  2a 00 00     ld hl,(_fopen)
  0317  01 06 00     ld bc,0006h
  031a  09           add hl,bc
  031b  7e           ld a,(hl)
  031c  23           inc hl
  031d  66           ld h,(hl)
  031e  6f           ld l,a
  031f  7c           ld a,h
  0320  e6 02        and 02h
  0322  ca 4a 03     jp z,034ah
  0325  2a 00 00     ld hl,(_fopen)
  0328  01 04 00     ld bc,0004h
  032b  09           add hl,bc
  032c  4e           ld c,(hl)
  032d  23           inc hl
  032e  46           ld b,(hl)
  032f  c5           push bc
  0330  cd 00 00     call _fopen
  0333  f1           pop af
  0334  2a 00 00     ld hl,(_fopen)
  0337  01 06 00     ld bc,0006h
  033a  09           add hl,bc
  033b  7e           ld a,(hl)
  033c  e6 ff        and ffh
  033e  77           ld (hl),a
  033f  23           inc hl
  0340  7e           ld a,(hl)
  0341  e6 fd        and fdh
  0343  77           ld (hl),a
  0344  c3 4a 03     jp 034ah
  0347  c3 00 00     jp _fopen
  034a  2a 00 00     ld hl,(_fopen)
  034d  01 04 00     ld bc,0004h
  0350  09           add hl,bc
  0351  97           sub a
  0352  77           ld (hl),a
  0353  23           inc hl
  0354  77           ld (hl),a
  0355  2a 00 00     ld hl,(_fopen)
  0358  01 06 00     ld bc,0006h
  035b  09           add hl,bc
  035c  7e           ld a,(hl)
  035d  e6 f7        and f7h
  035f  77           ld (hl),a
  0360  23           inc hl
  0361  7e           ld a,(hl)
  0362  e6 ff        and ffh
  0364  77           ld (hl),a
  0365  c3 47 03     jp 0347h

Data segment: 17 bytes
  0000: 00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
  0010: 00                                                |.|

Symbol table: 25 symbols (9-char names)
  Index  Value  Type Seg    Global  Name
  -----  -----  ---- -----  ------  ----
  [  0]  0000   08   ext    yes      __exit
  [  1]  0000   08   ext    yes      __iob
  [  2]  0000   08   ext    yes      c.r4
  [  3]  0000   08   ext    yes      c.r3
  [  4]  0000   08   ext    yes      _close
  [  5]  0000   08   ext    yes      c.r2
  [  6]  0000   08   ext    yes      _lseek
  [  7]  0000   08   ext    yes      _cfree
  [  8]  0000   08   ext    yes      c.switch
  [  9]  0000   08   ext    yes      c.ret
  [ 10]  0000   08   ext    yes      _exit
  [ 11]  0000   08   ext    yes      c.ent
  [ 12]  0000   08   ext    yes      _create
  [ 13]  0000   08   ext    yes      _open
  [ 14]  0000   08   ext    yes      c.rets
  [ 15]  0000   08   ext    yes      c.ents
  [ 16]  0000   08   ext    yes      c.imul
  [ 17]  0000   08   ext    yes      __flushb
  [ 18]  0000   0d   text   yes      _fopen
  [ 19]  018e   0d   text   yes      __facces
  [ 20]  00e0   0d   text   yes      _fdopen
  [ 21]  02c9   0d   text   yes      _fclose
  [ 22]  0257   0d   text   yes      __finit
  [ 23]  0072   0d   text   yes      _freopen
  [ 24]  011c   0d   text   yes      __bfind

Text relocations:
  Offset  Type        Target
  ------  ----        ------
  0001    word        symbol[15]
  000c    word        symbol[2]
  0017    word        symbol[5]
  001a    word        text segment
  001f    word        data segment
  0022    word        data segment
  0028    word        text segment
  002e    word        symbol[14]
  0031    word        symbol[5]
  0035    word        symbol[2]
  0039    word        text segment
  0040    word        data segment
  0043    word        data segment
  0048    word        text segment
  004b    word        data segment
  0050    word        text segment
  0056    word        symbol[14]
  0059    word        symbol[5]
  005d    word        data segment
  0061    word        data segment
  0065    word        text segment
  006b    word        data segment
  0070    word        symbol[14]
  0073    word        symbol[15]
  007e    word        symbol[2]
  0089    word        symbol[5]
  0094    word        symbol[3]
  0097    word        symbol[5]
  009b    word        symbol[2]
  009f    word        text segment
  00a6    word        data segment
  00a9    word        data segment
  00ae    word        text segment
  00b1    word        data segment
  00b6    word        text segment
  00bc    word        symbol[14]
  00bf    word        symbol[3]
  00c3    word        text segment
  00c7    word        symbol[5]
  00cb    word        data segment
  00cf    word        symbol[3]
  00d3    word        text segment
  00d9    word        symbol[3]
  00de    word        symbol[14]
  00e1    word        symbol[11]
  00e4    word        text segment
  00e9    word        data segment
  00ec    word        data segment
  00f2    word        text segment
  00f8    word        symbol[9]
  010b    word        data segment
  010f    word        text segment
  0115    word        data segment
  011a    word        symbol[9]
  011d    word        symbol[11]
  0121    word        data segment
  0124    word        data segment
  0129    word        data segment
  012c    word        data segment
  0131    word        text segment
  0134    word        data segment
  0140    word        symbol[16]
  0144    word        symbol[1]
  014f    word        text segment
  0152    word        data segment
  015e    word        symbol[16]
  0162    word        symbol[1]
  0166    word        data segment
  0169    word        text segment
  016c    word        data segment
  0171    word        symbol[9]
  0174    word        data segment
  0179    word        data segment
  017c    word        text segment
  017e    word        text segment
  0182    word        text segment
  0186    word        text segment
  018c    word        text segment
  018f    word        symbol[15]
  019a    word        symbol[2]
  01a5    word        symbol[5]
  01a8    word        symbol[5]
  01b0    word        text segment
  01b3    word        symbol[8]
  01be    word        symbol[2]
  01c2    word        symbol[12]
  01ca    word        data segment
  01cd    word        data segment
  01d2    word        symbol[14]
  01dd    word        symbol[2]
  01e1    word        symbol[13]
  01e9    word        data segment
  01ec    word        data segment
  01f1    word        text segment
  01f4    word        data segment
  01f9    word        text segment
  0204    word        symbol[2]
  0208    word        symbol[12]
  0210    word        data segment
  0217    word        data segment
  0227    word        data segment
  022b    word        symbol[6]
  0232    word        text segment
  023d    word        symbol[2]
  0241    word        symbol[13]
  0249    word        data segment
  024c    word        text segment
  0252    word        data segment
  0255    word        text segment
  0258    word        symbol[15]
  0268    word        symbol[2]
  0273    word        symbol[5]
  027e    word        symbol[3]
  0281    word        symbol[2]
  0288    word        symbol[5]
  028c    word        symbol[5]
  0291    word        symbol[2]
  029c    word        symbol[2]
  02a7    word        symbol[2]
  02af    word        symbol[3]
  02b5    word        text segment
  02bb    word        text segment
  02c7    word        symbol[14]
  02ca    word        symbol[15]
  02d5    word        symbol[2]
  02d8    word        symbol[2]
  02e0    word        symbol[17]
  02e5    word        symbol[2]
  02f0    word        symbol[4]
  02f4    word        symbol[2]
  0304    word        symbol[2]
  0312    word        text segment
  0315    word        symbol[2]
  0323    word        text segment
  0326    word        symbol[2]
  0331    word        symbol[7]
  0335    word        symbol[2]
  0345    word        text segment
  0348    word        symbol[14]
  034b    word        symbol[2]
  0356    word        symbol[2]
  0366    word        text segment

Data relocations:
  Offset  Type        Target
  ------  ----        ------
  (none)

